doctype html

include posapi_aglio_mixins.jade

html
    head
        meta(charset="utf-8")
        title= api.name || 'API Documentation'
        block bootstrap-theme
            link(rel="stylesheet", href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css")
            link(rel="stylesheet", href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css")
        block styles
            link(rel="stylesheet", href="//fonts.googleapis.com/css?family=Open+Sans:400,700|Inconsolata|Raleway:200|Source+Code+Pro")
            link(rel="stylesheet", href="highlight.css")
            link(rel="stylesheet", href="posapi_theme.css")

    body(data-spy="scroll", data-target="#nav-container")
        a.text-muted.back-to-top(href='#top')
            i.fa.fa-toggle-up
            | &nbsp;Back to top
        div(class=fullWidth ? 'container-fluid' : 'container')
            .row
                div#documentation-content.col-md-9
                    block content
                        +Content('primary', false)
                block nav
                    +Navi(false, true)

        p.text-muted(style="text-align: center;")
            | Generated by&nbsp;
            a.aglio(href="https://github.com/danielgtaylor/aglio") aglio
            | &nbsp;on #{date().format('DD MMM YYYY')}

        #localFile(style="display: none; position: absolute; top: 0; left: 0; width: 100%; color: white; background: red; font-size: 150%; text-align: center; padding: 1em;").
            This page may not display correctly when opened as a local file. Instead, view it from a web server.

        div#TokenManagement.modal.fade(tab-index="-1", role="dialog", aria-labelledby="TokenManagementLabel", aria-hidden="true")
            div.modal-dialog
                div.modal-content
                    div.modal-header
                        button.close(data-dismiss="modal", aria-label="Close") &times;
                        h4#TokenManagementLabel.modal-title= 'Token Management'
                    div.modal-body
                        div.input-group
                            span#accessId.input-group-addon.alert-danger= 'AccessID'
                            input#accessIdInput.form-control(type="text", aria-describedby="accessId", placeholder="not specified")
                        div.alert.alert-info.alert-dismissable(role="alert")
                            strong= 'Information!'
                            br
                            = 'SessionToken and UserToken are mandatory for requests which require an authenticated user.'
                            br
                            = 'They are returned by a successfull '
                            a(onclick="CloseAndRedirectTo('#authentication-login');")
                                strong= 'Login'
                            = ' request.'
                        div.input-group
                            span#sessionToken.input-group-addon.alert-warning= 'SessionToken'
                            input#sessionTokenInput.form-control(type="text", aria-describedby="sessionToken", placeholder="not specified")
                        div.input-group
                            span#userToken.input-group-addon.alert-warning= 'UserToken'
                            input#userTokenInput.form-control(type="text", aria-describedby="userToken", placeholder="not specified")
                            
                    div.modal-footer
                        button.btn.btn-primary(onclick='SaveTokens();')= 'Save Changes'



    script(src="//code.jquery.com/jquery-1.11.0.min.js")
    script(src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js")
    script(src="mixin.js")
    script(src="jquery.cookie.js")
    script(src="ace.js")
    script(src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js")
    if livePreview
        script(src="/socket.io/socket.io.js")
    script
        :coffee
            # Show a warning when viewed as a local file, which will break the
            # links above that start with `//`.
            if location.protocol is 'file:'
                document.getElementById('localFile').style.display = 'block';
    block scripts
        script
            :coffee
                $('table').addClass 'table'

        if livePreview
            script
                :coffee
                    socket = io()
                    socket.on "refresh", (msg) ->
                        $(document.body).html(msg)